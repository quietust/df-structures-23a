<data-definition>
    <struct-type type-name='historical_entity' key-field='id'
                 instance-vector='$global.world.entities.all'>
        <int16_t name='type' comment='0 = civilization, 1-4 = group?'/>
        <int32_t name='id' comment='index in the array'/>

        <pointer name='entity_raw' type-name='entity_raw'/>

        <int32_t name='save_file_id' comment='changes once has 100 entries'/>
        <int16_t name='next_member_idx'/>

        <compound name='name' type-name='language_name'/>

        <code-helper name='describe'>
            (describe-obj $.name)
            (describe-obj (find-creature $.race))
        </code-helper>

        <int16_t name='race' ref-target='creature_raw'/>
        <int32_t name='unk5'/>

        <stl-vector name='unk6a'>
            <pointer>
                <int16_t name='unk1'/>
                <int32_t name='unk2'/>
                <int16_t name='unk3'/>
            </pointer>
        </stl-vector>
        <stl-vector name='unk6b'>
            <pointer>
                <int16_t name='unk1'/>
                <int32_t name='unk2'/>
                <int32_t name='unk2b'/>
                <int16_t name='unk3'/>
            </pointer>
        </stl-vector>

        <stl-vector name='unit_ids'>
            <int32_t ref-target='unit'/>
        </stl-vector>

        <stl-vector name='nemesis_ids'>
            <int32_t ref-target='historical_figure'/>
        </stl-vector>

        <compound name='resources'>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <compound name='weapon' type-name='material_vec_ref'/>
            <compound name='armor' type-name='material_vec_ref'/>
            <stl-vector name='leather'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector name='cloth'>
                <int16_t ref-target='matgloss_plant'/>
            </stl-vector>
            <stl-vector name='silk'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector type-name='int16_t'/>
            <stl-vector name='craft_metal'>
                <enum base-type='int16_t' type-name='material_type'/>
            </stl-vector>
            <compound name='stone' type-name='material_vec_ref'/>
            <compound name='gem' type-name='material_vec_ref'/>
            <stl-vector name='bone'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <compound name='other' type-name='material_vec_ref' comment='jade, etc.'/>
            <compound name='crafts' type-name='material_vec_ref'/>
            <compound type-name='material_vec_ref'/>
            <compound name='wood' type-name='material_vec_ref'/>
            <stl-vector name='pet'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <compound name='metal_3' type-name='material_vec_ref' comment='wood materials for Elves, iron/bronze/copper for goblins (who only use iron for weapons/armors)'/>
            <compound name='drink' type-name='material_vec_ref'/>
            <compound name='cheese' type-name='material_vec_ref'/>
            <compound name='mill' type-name='material_vec_ref'/>
            <compound name='extract' type-name='material_vec_ref'/>
            <stl-vector name='meat_fish'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector name='plant'>
                <int16_t ref-target='matgloss_plant'/>
            </stl-vector>
            <stl-vector name='wagon'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector name='pack_animal'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector name='wagon_puller'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>
            <stl-vector name='mount'>
                <int16_t ref-target='creature_raw'/>
            </stl-vector>

            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>

            <static-array name='unk13' count='3'>
                <int16_t name='unk1' init-value='-1'/>
                <int16_t name='unk2'/>
            </static-array>

            <stl-vector type-name='pointer'/>
            <static-array count='5'>
                <stl-vector type-name='int8_t'/>
            </static-array>
            <stl-vector type-name='pointer'/>

            <int16_t/>
            <int16_t/>

            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
        </compound>

        <compound name='jobs'>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <static-array count='88' type-name='int16_t' index-enum='profession'/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int32_t/>
            <static-array count='110' type-name='int32_t' index-enum='item_type'/>
            <stl-vector name='created_weapons' type-name='int32_t' index-refers-to='itemdef_weaponst'/>
            <int32_t name='created_wealth'/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t name='exported_wealth'/>
            <static-array count='202' index-enum='job_type'>
                <static-array count='65' type-name='int32_t'/>
                <int32_t name='completed'/>
            </static-array>
            <int32_t/>
            <static-array count='5' type-name='int32_t'/>
            <static-array count='5' type-name='int32_t'/>
            <static-array count='5' type-name='int32_t'/>
            <static-array count='5' type-name='int32_t'/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <int8_t/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
            <stl-vector type-name='pointer'/>
        </compound>

        <int8_t/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t name='offerings' comment='uncertain'/>
        <static-array count='10' type-name='int32_t'/>
        <int32_t/>
        <int32_t/>

        <stl-vector type-name='pointer'/>
        <stl-vector name='hist_figures'>
            <pointer type-name='historical_figure'/>
        </stl-vector>
        <stl-vector name='nemesis'>
            <pointer type-name='nemesis_record'/>
        </stl-vector>

        <compound>
            <compound name='flour_sugar' type-name='material_vec_ref'/>
            <compound name='dye' type-name='material_vec_ref'/>
            <static-array count='30'>
                <stl-vector type-name='int16_t'/>
            </static-array>
        </compound>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
