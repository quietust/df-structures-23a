<data-definition>
    <struct-type type-name='stockpile_settings_food'>
        <stl-vector type-name='bool' name='meat_fish' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='unprepared_fish' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='plants' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='drink_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='drink_animal' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='cheese_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='cheese_animal' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='seeds' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='leaves' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='powder_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='powder_animal' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='glob' index-enum='material_type'/>
        <stl-vector type-name='bool' name='extract_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
        <stl-vector type-name='bool' name='extract_animal' index-refers-to='$global.world.raws.creatures[$]'/>
        <stl-vector type-name='bool' name='liquid_misc' index-enum='material_type'/>
    </struct-type>

    <enum-type type-name='stockpile_category' base-type='int16_t'>
        <enum-item name='Animals'/>
        <enum-item name='Food'/>
        <enum-item name='Furniture'/>
        <enum-item name='Graveyard'/>
        <enum-item name='Refuse'/>
        <enum-item name='Stone'/>
        <enum-item name='Ore'/>
        <enum-item name='Ammo'/>
        <enum-item name='Coins'/>
        <enum-item name='Bars'/>
        <enum-item name='Gems'/>
        <enum-item name='Goods'/>
        <enum-item name='Leather'/>
        <enum-item name='Cloth'/>
        <enum-item name='Wood'/>
        <enum-item name='Weapons'/>
        <enum-item name='Armor'/>
        <enum-item name='Custom'/>
    </enum-type>

    <struct-type type-name='stockpile_settings'>
        <bitfield name='flags' base-type='uint32_t'>
            <flag-bit name='animals'/>
            <flag-bit name='food'/>
            <flag-bit name='furniture'/>
            <flag-bit name='graveyard'/>
            <flag-bit name='refuse'/>
            <flag-bit name='stone'/>
            <flag-bit name='ore'/>
            <flag-bit name='ammo'/>

            <flag-bit name='coins'/>
            <flag-bit name='bars'/>
            <flag-bit name='gems'/>
            <flag-bit name='goods'/>
            <flag-bit name='leather'/>
            <flag-bit name='cloth'/>
            <flag-bit name='wood'/>
            <flag-bit name='weapons'/>
            <flag-bit name='armor'/>
        </bitfield>

        <compound name='animals'>
            <bool name='animals_empty_cages'/>
            <bool name='animals_empty_traps'/>
            <stl-vector type-name='bool' name='enabled' index-refers-to='$global.world.raws.creatures[$]'/>
        </compound>

        <compound name='food'>
            <compound type-name='stockpile_settings_food' name='type'/>
            <bool name='prepared_meals'/>
        </compound>

        <compound name='furniture'>
            <stl-vector type-name='bool' name='type' index-enum='item_type'/>
            <stl-vector type-name='bool' name='mats' index-enum='material_type'/>
            <bool name='sand_bags'/>
        </compound>

        <int32_t/>

        <compound name='refuse'>
            <stl-vector type-name='bool' name='type' index-enum='item_type'/>
        </compound>

        <stl-vector type-name='bool' name='stone' index-refers-to='$global.world.raws.matgloss_stone[$]'/>

        <stl-vector type-name='bool' name='ore' index-enum='material_type'/>

        <compound name='ammo'>
            <stl-vector type-name='bool' name='type' index-refers-to='$global.world.raws.itemdefs.ammo[$]'/>
            <stl-vector type-name='bool' name='mats' index-enum='material_type'/>
        </compound>

        <stl-vector type-name='bool' name='coins' index-enum='material_type'/>

        <stl-vector type-name='bool' name='bars_mats' index-enum='material_type'/>
        <stl-vector type-name='bool' name='blocks_mats' index-enum='material_type'/>

        <compound name='gems'>
            <stl-vector type-name='bool' name='rough_mats' index-enum='material_type'/>
            <stl-vector type-name='bool' name='cut_mats' index-enum='material_type'/>
        </compound>

        <compound name='finished_goods'>
            <stl-vector type-name='bool' name='type' index-enum='item_type'/>
            <stl-vector type-name='bool' name='mats' index-enum='material_type'/>
        </compound>

        <stl-vector type-name='bool' name='leather' index-refers-to='$global.world.raws.creatures[$]'/>

        <compound name='cloth'>
            <stl-vector type-name='bool' name='thread_silk' index-refers-to='$global.world.raws.creatures[$]'/>
            <stl-vector type-name='bool' name='thread_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
            <stl-vector type-name='bool' name='cloth_silk' index-refers-to='$global.world.raws.creatures[$]'/>
            <stl-vector type-name='bool' name='cloth_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
            <bool name='thread_adamantine'/>
            <bool name='cloth_adamantine'/>
        </compound>

        <stl-vector type-name='bool' name='wood' index-refers-to='$global.world.raws.matgloss_wood[$]'/>

        <compound name='weapons'>
            <stl-vector type-name='bool' name='weapon_type' index-refers-to='$global.world.raws.itemdefs.weapons[$]'/>
            <stl-vector type-name='bool' name='trapcomp_type' index-refers-to='$global.world.raws.itemdefs.trapcomps[$]'/>
            <stl-vector type-name='bool' name='mats' index-enum='material_type'/>
            <bool name='local'/>
            <bool name='foreign'/>
        </compound>

        <compound name='armor'>
            <stl-vector type-name='bool' name='body' index-refers-to='$global.world.raws.itemdefs.armor[$]'/>
            <stl-vector type-name='bool' name='head' index-refers-to='$global.world.raws.itemdefs.helms[$]'/>
            <stl-vector type-name='bool' name='feet' index-refers-to='$global.world.raws.itemdefs.shoes[$]'/>
            <stl-vector type-name='bool' name='hands' index-refers-to='$global.world.raws.itemdefs.gloves[$]'/>
            <stl-vector type-name='bool' name='legs' index-refers-to='$global.world.raws.itemdefs.pants[$]'/>
            <stl-vector type-name='bool' name='shield' index-refers-to='$global.world.raws.itemdefs.shields[$]'/>
            <stl-vector type-name='bool' name='mats' index-enum='material_type'/>
            <bool name='local'/>
            <bool name='foreign'/>
        </compound>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
