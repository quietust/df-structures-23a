<data-definition>
    <enum-type type-name='general_ref_type'>
        <enum-item name="ARTIFACT"/>
        <enum-item name="ITEM_TYPE"/>
        <enum-item name="COINBATCH"/>
        <enum-item name="MAPSQUARE"/>
        <enum-item name="ENTITY_ART_IMAGE"/>
        <enum-item name="UNIT_UNK5"/>
        <enum-item name="CONTAINS_UNIT"/>
        <enum-item name="ITEM_UNK7"/>
        <enum-item name="CONTAINS_ITEM"/>
        <enum-item name="PROJECTILE"/>
        <enum-item name="UNIT_TRAINEE"/>
        <enum-item name="UNIT_ITEMOWNER"/>
        <enum-item name="UNIT_TRADEBRINGER"/>
        <enum-item name="CONTAINED_IN_ITEM"/>
        <enum-item name="UNIT_HOLDER"/>
        <enum-item name="UNIT_WORKER"/>
        <enum-item name="BUILDING_UNK16"/>
        <enum-item name="BUILDING_CIVZONE_ASSIGNED"/>
        <enum-item name="BUILDING_TRIGGER"/>
        <enum-item name="BUILDING_TRIGGERTARGET"/>
        <enum-item name="BUILDING_CHAIN"/>
        <enum-item name="BUILDING_CAGED"/>
        <enum-item name="BUILDING_UNK21"/>
        <enum-item name="BUILDING_HOLDER"/>
    </enum-type>

    <class-type type-name='general_ref' original-name='general_refst'>
        <virtual-methods>
            <vmethod name='write_file'> <pointer comment='file_compressorst'/> </vmethod>
            <vmethod name='read_file'>
                <pointer comment='file_compressorst'/>
                <int32_t name='loadversion'/>
            </vmethod>
            <vmethod ret-type='general_ref_type' name='getType'/>
            <vmethod name='getItem'>
                <ret-type><pointer type-name='item'/></ret-type>
            </vmethod>
            <vmethod name='getUnit'>
                <ret-type><pointer type-name='unit'/></ret-type>
            </vmethod>
            <vmethod name='getProjectile'>
                <ret-type><pointer type-name='projectile'/></ret-type>
            </vmethod>
            <vmethod name='getBuilding'>
                <ret-type><pointer type-name='building'/></ret-type>
            </vmethod>
            <vmethod name='setID'> <int32_t/> </vmethod>
            <vmethod ret-type='int32_t' name='getID'/>
            <vmethod is-destructor='true'/>
            <vmethod name='clone'>
                <ret-type><pointer type-name='general_ref'/></ret-type>
            </vmethod>
        </virtual-methods>
    </class-type>

    -- assumed abstract classes

    <class-type type-name='general_ref_item' inherits-from='general_ref'>
        <int32_t name='item_id' ref-target='item'/>
    </class-type>
    <class-type type-name='general_ref_unit' inherits-from='general_ref'>
        <int32_t name='unit_id' ref-target='unit'/>
    </class-type>
    <class-type type-name='general_ref_building' inherits-from='general_ref'>
        <int32_t name='building_id' ref-target='building'/>
    </class-type>

    -- actual classes

    <class-type type-name='general_ref_artifactst' inherits-from='general_ref'>
        <int32_t name='artifact_id' ref-target='artifact_record'/>
    </class-type>

    <class-type type-name='general_ref_item_typest' inherits-from='general_ref'>
        <enum base-type='int32_t' name='type' type-name='item_type'/>
        <int32_t name='subtype' refers-to='(item-subtype-target $$._parent.type $)'/>
        <enum base-type='int16_t' name='material' type-name='material_type'/>
        <int16_t name='matgloss' refers-to='(matgloss-target $$._parent.material $)'/>
    </class-type>

    <class-type type-name='general_ref_coinbatchst' inherits-from='general_ref'>
        <int32_t/>
    </class-type>

    <class-type type-name='general_ref_mapsquarest' inherits-from='general_ref'>
        <int8_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </class-type>

    <class-type type-name='general_ref_entity_art_imagest' inherits-from='general_ref'>
        <int32_t/>
        <int32_t/>
    </class-type>

    <class-type type-name='general_ref_unit_unk5' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_contains_unitst' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_item_unk7' inherits-from='general_ref_item'/>
    <class-type type-name='general_ref_contains_itemst' inherits-from='general_ref_item'/>

    <class-type type-name='general_ref_projectilest' inherits-from='general_ref'>
        <int32_t name='projectile_id' ref-target='projectile'/>
    </class-type>

    <class-type type-name='general_ref_unit_traineest' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_unit_itemownerst' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_unit_tradebringerst' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_contained_in_itemst' inherits-from='general_ref_item'/>
    <class-type type-name='general_ref_unit_holderst' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_unit_workerst' inherits-from='general_ref_unit'/>
    <class-type type-name='general_ref_building_unk16' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_civzone_assignedst' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_triggerst' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_triggertargetst' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_chainst' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_cagedst' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_unk21' inherits-from='general_ref_building'/>
    <class-type type-name='general_ref_building_holderst' inherits-from='general_ref_building'/>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
