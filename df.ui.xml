<data-definition>
    <struct-type type-name='dipscript_info'>
        <int32_t name='unk1' comment='uninit'/>
        <stl-string name='script_file' comment='data/dipscript/dwarf_liaison'/>
        <stl-vector name='script_steps' type-name='pointer'/>
        <stl-vector name='unknown' comment='null'/>
        <stl-string name='code' comment='DWARF_LIAISON etc'/>
        <code-helper name='describe'>$.code</code-helper>
    </struct-type>

    <enum-type type-name='ui_sidebar_mode'>
        <enum-item name='Default'/>

        -- 2

        <enum-item name='DesignateMine'/>
        <enum-item name='DesignateGatherPlants'/>
        <enum-item name='DesignateRemoveDesignation'/>
        <enum-item name='DesignateSmooth'/>
        <enum-item name='DesignateCarveFortification'/>

        -- 14

        <enum-item name='Stockpiles'/>
        <enum-item name='Build'/>
        <enum-item name='QueryBuilding'/>

        -- 17

        <enum-item name='Orders'/>
        <enum-item name='OrdersForbid'/>
        <enum-item name='OrdersRefuse'/>
        <enum-item name='OrdersWorkshop'/>
        <enum-item name='OrdersZone'/>

        -- 22

        <enum-item name='BuildingItems'/>
        <enum-item name='ViewUnits'/>
        <enum-item name='LookAround'/>

        -- 25

        <enum-item name='DesignateItemsClaim'/>
        <enum-item name='DesignateChopTrees'/>
        <enum-item name='DesignateToggleEngravings'/>

    </enum-type>

    <struct-type type-name='ui'>
        <int32_t/>
        <int32_t/>
        <compound name='unk1'>
            <int16_t/>
            <int32_t/>
            <stl-vector/>
            <int32_t/>
            <int32_t/>
            <int64_t/>
            <int16_t/>
            <int16_t/>
            <int32_t comment='-1'/>
            <int32_t comment='-1'/>
            <int32_t comment='-1'/>
            <int64_t comment='-1'/>
            <int64_t comment='-1'/>
            <int64_t comment='-1'/>
            <pointer type-name='unit'/>
            <pointer type-name='unit'/>
            <pointer type-name='unit'/>
            <int8_t/>
        </compound>
        <stl-vector>
            <pointer type-name='entity_trade_statistics'/>
        </stl-vector>
        <int8_t/>
        <compound type-name='coord_path' name='roadInfo1'/>
        <compound type-name='coord_path' name='roadInfo2'/>
        <int16_t name='progress_population'/>
        <int16_t name='progress_trade'/>
        <int16_t name='progress_production'/>
        <bool/>
        <bool/>
        <bool/>
        <bool name='economy_active'/>
        <bool/>
        <bool name='justice_active'/>
        <int16_t/>
        <compound name='incoming_king'>
            <int32_t name='desired_architecture'/>
            <int32_t name='desired_roads'/>
            <int32_t name='desired_offerings'/>
        </compound>
        <static-array name='nobles_enabled' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array name='nobles_arrived' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array name='units_killed' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array name='guild_wages' type-name='int32_t' count='16' index-enum='guild_id'/>
        <static-array name='guild_happiness' type-name='int16_t' count='16' index-enum='guild_id'/>
        <static-array name='labor_slowdown_timer' type-name='int16_t' count='16' index-enum='guild_id'/>
        <static-array name='currency_value' type-name='int32_t' count='64' index-enum='material_type'/>
        <int32_t/>
        <int32_t/>
        <int32_t name='adamantine_mined'/>
        <int32_t/>

        <compound type-name='entity_activity_statistics' name='activity_stats'/>

        <stl-vector type-name='pointer'/>
        <stl-vector name='activities'>
            <pointer type-name='activity'/>
        </stl-vector>

        <stl-vector name='dip_meeting_info'>
            <pointer>
                <int32_t name='civ_id' ref-target='historical_entity'/>
                <int16_t/>
                <int16_t/>
                <int32_t name='diplomat_id' ref-target='historical_figure'/>
                <int32_t comment='-1'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
                <pointer name='dipscript' type-name='dipscript_info'/>
                <int32_t/>
                <int32_t/>
                <stl-vector type-name='pointer'/>
                <stl-string/>
                <stl-string/>
                <int32_t/>
                <stl-vector type-name='pointer'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int16_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int16_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
                <stl-vector type-name='int32_t'/>
            </pointer>
        </stl-vector>

        <stl-vector name='royal_guards'><int32_t ref-target='unit'/></stl-vector>
        <stl-vector name='fortress_guards'><int32_t ref-target='unit'/></stl-vector>
        <stl-vector name='aid_requesters'><int32_t ref-target='unit'/></stl-vector>
        <int8_t/>

        <compound name='invasions'>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int16_t/>
<!--
            <stl-vector name='list' comment='goblins...'>
                <pointer type-name='invasion_info'/>
            </stl-vector>
            <int32_t name='next_id'/>
-->
        </compound>


        <stl-vector name='crimes'>
            <pointer>
                <enum name='mode' base-type='int16_t'>
                    <enum-item name='ViolateProductionOrder'/>
                    <enum-item name='ViolateExportBan'/>
                    <enum-item name='ViolateJobOrder'/>
                    <enum-item name='ConspiracyToSlowLabor'/>
                    <enum-item name='Murder'/>
                    <enum-item name='DisorderlyConduct'/>
                    <enum-item name='BuildingDestruction'/>
                    <enum-item name='Vandalism'/>
                    <enum-item name='ViolateMiningOrder'/>
                </enum>

                <compound name='punishments'>
                    <int16_t name='hammerstrikes'/>
                    <int16_t name='prison'/>
                    <int32_t name='beating'/>
                </compound>

                <pointer name='criminal' type-name='unit'/>
                <pointer name='victim' type-name='unit'/>
                <int32_t name='punishment_assigned'/>
            </pointer>
        </stl-vector>

        <stl-vector name='punishments'>
            <pointer>
                <pointer name="criminal" type-name='unit'/>
                <pointer name="officer" type-name='unit'/>
                <int16_t name="beating"/>
                <int16_t name="hammer_strikes"/>
                <int32_t name="prison_counter"/>
                <int16_t name="unk_10" comment='10080'/>
                <pointer name="chain" type-name='building'/>
                <stl-vector name="victims">
                    <pointer type-name="unit"/>
                </stl-vector>
            </pointer>
        </stl-vector>

        <stl-vector name='pet_info'>
            <pointer type-name='pet_info'/>
        </stl-vector>
        <stl-vector name='parties'>
            <pointer type-name='party_info'/>
        </stl-vector>
        <stl-vector name='unk235c' type-name='pointer'/>

        <stl-vector name='dipscripts'>
            <pointer type-name='dipscript_info'/>
        </stl-vector>

        <stl-vector name='unk2374' type-name='pointer'/>

        <compound name='kitchen'>
            <stl-vector name='item_type'>
                <enum base-type='int32_t' type-name='item_type'/>
            </stl-vector>
            <stl-vector name='item_subtype'>
                <int32_t refers-to='(item-subtype-target $$._parent._parent.item_type[$$._key] $)'/>
            </stl-vector>
            <stl-vector name='material' comment='I think these are actually creature/plant IDs...'>
                <enum base-type='int32_t' type-name='material_type'/>
            </stl-vector>
            <stl-vector name='matgloss'>
                <int32_t refers-to='(matgloss-target $$._parent._parent.material[$$._key] $)'/>
            </stl-vector>
            <stl-vector name='exc_type' type-name='int8_t'/>
        </compound>
        <int32_t/>
        <int16_t/>
        <int16_t name='max_dig_depth'/>
        <int16_t name='min_dig_depth'/>
        <int16_t name='mood_timer'/>
        <int16_t/>
        <int16_t/>
        <bool name='baron_needed'/>
        <bool name='count_needed'/>
        <bool name='duke_needed'/>

        <int32_t name='civ_id' ref-target='historical_entity'/>
        <int32_t name='group_id' ref-target='historical_entity'/>
        <int32_t name='race_id' ref-target='creature_raw'/>

        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int8_t'/>

        <static-array type-name='int16_t' count='3'/>
        <static-array type-name='int8_t' count='3'/>

        <compound name='economy_prices'>
            <compound name='price_adjustment'>
                <stl-vector type-name='int32_t' name='general_items' index-enum='item_type'/>
                <stl-vector type-name='int32_t' name='weapons' index-refers-to='$global.world.raws.itemdefs.weapons[$]'/>
                <stl-vector type-name='int32_t' name='armor' index-refers-to='$global.world.raws.itemdefs.armor[$]'/>
                <stl-vector type-name='int32_t' name='handwear' index-refers-to='$global.world.raws.itemdefs.helms[$]'/>
                <stl-vector type-name='int32_t' name='footwear' index-refers-to='$global.world.raws.itemdefs.shoes[$]'/>
                <stl-vector type-name='int32_t' name='headgear' index-refers-to='$global.world.raws.itemdefs.gloves[$]'/>
                <stl-vector type-name='int32_t' name='legwear' index-refers-to='$global.world.raws.itemdefs.pants[$]'/>
                <stl-vector type-name='int32_t' name='prepared_food' index-refers-to='$global.world.raws.itemdefs.food[$]'/>
                <stl-vector type-name='int32_t' name='potions'/>
                <stl-vector type-name='int32_t' name='materials' index-enum='material_type'/>
                <stl-vector type-name='int32_t' name='wood' index-refers-to='$global.world.raws.matgloss_wood[$]'/>
                <stl-vector type-name='int32_t' name='cloth' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='bone' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='ivory' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='horn' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='pearl' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='shell' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='leather' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='silk' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='gems' index-refers-to='$global.world.raws.matgloss_gem[$]'/>
                <stl-vector type-name='int32_t' name='stone' index-refers-to='$global.world.raws.matgloss_stone[$]'/>
                <stl-vector type-name='int32_t' name='meat_fish' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='plants' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='drinks' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='extract_animal' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='extract_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='mill_animal' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='mill_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='cheese_animal' index-refers-to='$global.world.raws.creatures[$]'/>
                <stl-vector type-name='int32_t' name='cheese_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'/>
                <stl-vector type-name='int32_t' name='pets' index-refers-to='$global.world.raws.creatures[$]'/>
            </compound>
            <compound name='price_setter'>
                <stl-vector name='general_items' index-enum='item_type'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='weapons' index-refers-to='$global.world.raws.itemdefs.weapons[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='armor' index-refers-to='$global.world.raws.itemdefs.armor[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='handwear' index-refers-to='$global.world.raws.itemdefs.helms[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='footwear' index-refers-to='$global.world.raws.itemdefs.shoes[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='headgear' index-refers-to='$global.world.raws.itemdefs.gloves[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='legwear' index-refers-to='$global.world.raws.itemdefs.pants[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='prepared_food' index-refers-to='$global.world.raws.itemdefs.food[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='potions'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='materials' index-enum='material_type'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='wood' index-refers-to='$global.world.raws.matgloss_wood[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='cloth' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='bone' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='ivory' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='horn' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='pearl' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='shell' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='leather' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='silk' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='gems' index-refers-to='$global.world.raws.matgloss_gem[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='stone' index-refers-to='$global.world.raws.matgloss_stone[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='meat_fish' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='plants' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='drinks' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='extract_animal' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='extract_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='mill_animal' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='mill_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='cheese_animal' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='cheese_plant' index-refers-to='$global.world.raws.matgloss_plant[$]'><pointer type-name='unit'/></stl-vector>
                <stl-vector name='pets' index-refers-to='$global.world.raws.creatures[$]'><pointer type-name='unit'/></stl-vector>
            </compound>
        </compound>

        <compound name='stockpile'>
            <int32_t name='reserved_bins'/>
            <int32_t name='reserved_barrels'/>

            <compound name='custom_settings' type-name='stockpile_settings'/>
        </compound>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
