<data-definition>
    <struct-type type-name='dipscript_info'>
        <int32_t name='unk1' comment='uninit'/>
        <stl-string name='script_file' comment='data/dipscript/dwarf_liaison'/>
        <stl-vector name='script_steps' type-name='pointer'/>
        <stl-vector name='unknown' comment='null'/>
        <stl-string name='code' comment='DWARF_LIAISON etc'/>
        <code-helper name='describe'>$.code</code-helper>
    </struct-type>

    <enum-type type-name='ui_sidebar_mode'>
        <enum-item name='Default'/>

        -- 2

        <enum-item name='DesignateMine'/>
        <enum-item name='DesignateGatherPlants'/>
        <enum-item name='DesignateRemoveDesignation'/>
        <enum-item name='DesignateSmooth'/>
        <enum-item name='DesignateCarveFortification'/>

        -- 14

        <enum-item name='Stockpiles'/>
        <enum-item name='Build'/>
        <enum-item name='QueryBuilding'/>

        -- 17

        <enum-item name='Orders'/>
        <enum-item name='OrdersForbid'/>
        <enum-item name='OrdersRefuse'/>
        <enum-item name='OrdersWorkshop'/>
        <enum-item name='OrdersZone'/>

        -- 22

        <enum-item name='BuildingItems'/>
        <enum-item name='ViewUnits'/>
        <enum-item name='LookAround'/>

        -- 25

        <enum-item name='DesignateItemsClaim'/>
        <enum-item name='DesignateChopTrees'/>
        <enum-item name='DesignateToggleEngravings'/>

    </enum-type>

    <struct-type type-name='ui'>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <int32_t/>
        <stl-vector/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t comment='-1'/>
        <int32_t ref-target='unit'/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector type-name='pointer'/>
        <int8_t/>
        <stl-vector type-name='pointer'/>
        <stl-vector type-name='pointer'/>
        <stl-vector type-name='pointer'/>
        <stl-vector name='roadInfo' type-name='pointer'/>
        <stl-vector type-name='pointer'/>
        <stl-vector type-name='pointer'/>
        <int16_t name='progress_population'/>
        <int16_t name='progress_trade'/>
        <int16_t name='progress_production'/>
        <bool/>
        <bool/>
        <bool/>
        <bool name='economy_active'/>
        <bool/>
        <bool name='justice_active'/>
        <int16_t/>
        <compound name='incoming_king'>
            <int32_t name='desired_architecture'/>
            <int32_t name='desired_roads'/>
            <int32_t name='desired_offerings'/>
        </compound>
        <static-array name='nobles_enabled' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array name='nobles_arrived' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array name='units_killed' type-name='int16_t' count='88' index-enum='profession'/>
        <static-array type-name='int32_t' count='16'/>
        <static-array type-name='int32_t' count='8'/>
        <static-array type-name='int32_t' count='8'/>
        <static-array name='currency_value' type-name='int32_t' count='64' index-enum='material_type'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

        <compound type-name='entity_activity_statistics'/>

        <stl-vector type-name='pointer'/>
        <stl-vector name='dip_meeting_vec'>
            <pointer type-name='meeting_diplomat'/>
        </stl-vector>

        <stl-vector name='dip_meeting_info'>
            <pointer>
                <int32_t name='civ_id' ref-target='historical_entity'/>
                <int16_t name='unk1'/>
                <int32_t name='diplomat_id' ref-target='historical_figure'/>
                <int32_t name='unk2' comment='-1'/>
                <padding size='32' comment='0'/>
                <pointer name='dipscript' type-name='dipscript_info'/>
                <padding size='16' comment='0'/>
                <stl-string name='unk3'/>
                <stl-string name='unk4'/>
                <padding size='112' comment='0'/>
            </pointer>
        </stl-vector>

        <stl-vector name='unk230c' comment='really a wild guess'>
            <int32_t ref-target='unit'/>
        </stl-vector>
        <stl-vector type-name='pointer'/>
        <stl-vector type-name='pointer'/>

...

        <compound name='invasions'>
            <stl-vector name='list' comment='goblins...'>
                <pointer type-name='invasion_info'/>
            </stl-vector>
            <int32_t name='next_id'/>
        </compound>

        <stl-vector name='crimes'>
            <pointer>
                <enum name='mode' base-type='int16_t'>
                    <enum-item name='ProductionOrderViolation'/>
                    <enum-item name='ExportViolation'/>
                    <enum-item name='JobOrderViolation'/>
                    <enum-item name='ConspiracyToSlowLabor'/>
                    <enum-item name='Murder'/>
                    <enum-item name='DisorderlyBehavior'/>
                    <enum-item name='BuildingDestruction'/>
                    <enum-item name='Vandalism'/>
                </enum>
                <int16_t name='unk2' comment='uninit'/>

                <int16_t name='unk3'/>
                <int16_t name='unk4'/>
                <int32_t name='unk5'/>

                <pointer name='criminal' type-name='unit'/>
                <pointer name='victim' type-name='unit'/>
                <int32_t name='punishment_assigned'/>
            </pointer>
        </stl-vector>

        <stl-vector name='punishments'>
            <pointer>
                <pointer name="criminal" type-name='unit'/>
                <pointer name="officer" type-name='unit'/>
                <int16_t name="beating"/>
                <int16_t name="hammer_strikes"/>
                <int32_t name="prison_counter"/>
                <int16_t name="unk_10" comment='10080'/>
                <pointer name="chain" type-name='building'/>
                <stl-vector name="victims">
                    <pointer type-name="unit"/>
                </stl-vector>
            </pointer>
        </stl-vector>

        <stl-vector name='pet_meetings'>
            <pointer type-name='meeting_pet'/>
        </stl-vector>
        <stl-vector name='parties'>
            <pointer type-name='party_info'/>
        </stl-vector>
        <stl-vector name='unk235c' type-name='pointer'/>

        <stl-vector name='dipscripts'>
            <pointer type-name='dipscript_info'/>
        </stl-vector>

        <stl-vector name='unk2374' type-name='pointer'/>

        <compound name='kitchen'>
            <stl-vector name='item_types'>
                <enum base-type='int16_t' type-name='item_type'/>
            </stl-vector>
            <stl-vector name='item_subtypes'>
                <int16_t name='item_subtype' refers-to='(item-subtype-target $$._parent._parent.item_types[$$._key] $)'/>
            </stl-vector>
            <stl-vector name='mat_types'>
                <enum base-type='int16_t' name='material' type-name='material_type'/>
            </stl-vector>
            <stl-vector name='mat_glosses' type-name='int16_t'/>
            <stl-vector name='exc_types' type-name='int8_t'/>
        </compound>

        <padding size='4'/>
        <int16_t name='unk23cc'/>
        <int16_t name='unk23ce'/>

        <int32_t name='civ_id' ref-target='historical_entity'/>
        <int32_t name='site_id' ref-target='world_site'/>
        <int32_t name='group_id' ref-target='historical_entity'
                 comment='i.e. specifically the fortress dwarves'/>
        <int32_t name='race_id' ref-target='creature_raw'/>

        <stl-vector name='unk23e0' type-name='int16_t'/>
        <stl-vector name='unk23ec' type-name='int8_t'/>

        <static-array name='unk23f8' count='2'>
            <static-array count='30'>
                <stl-vector type-name='int32_t'/>
            </static-array>
        </static-array>

        <compound name='stockpile'>
            <int32_t name='reserved_bins'/>
            <int32_t name='reserved_barrels'/>

            <compound name='custom_settings' type-name='stockpile_settings'/>
        </compound>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
